<section
  class="flex flex-col mx-auto mt-32 p-20 w-3/4 bg-gradient-to-b from-[#FFFFFF] rounded-3xl"
>
  <h1 class="text-[#424A88] font-extrabold">Ajouter une offre</h1>
  <form [formGroup]="frm" (ngSubmit)="onPost()">
    <div class="flex flex-col mt-10 ml-3 relative">
      <input
        type="text"
        id="topic"
        placeholder="topic"
        class="peer w-full bg-transparent border-b border-black border-opacity-40 focus:outline-none text-black placeholder-transparent"
        autocomplete="off"
        formControlName="topic"
        required
      />
      <label
        for="topic"
        class="absolute left-0 -mt-3.5 text-slate-500 peer-placeholder-shown:top-2 peer-focus:-top-1 peer-focus:text-xs transition-all"
        >Sujet du stage <span class="text-[#E5302D]">*</span></label
      >
    </div>
    <div
      class="msg error text-xs ml-3 text-[#E5302D]"
      *ngIf="f['topic'].invalid && (f['topic'].dirty || f['topic'].touched)"
    >
      <span *ngIf="f['topic'].errors?.['required']"
        >sujet de stage obligatoire</span
      >
    </div>
    <div class="flex mt-10">
      <div class="flex flex-col w-1/2">
        <div class="flex flex-col ml-3 relative">
          <input
            type="text"
            id="company"
            placeholder="company"
            class="peer w-full bg-transparent border-b border-black border-opacity-40 focus:outline-none text-black placeholder-transparent"
            style="margin-top: -0.02cm"
            autocomplete="off"
            formControlName="company"
            required
          />
          <label
            for="company"
            class="absolute left-0 -mt-3.5 text-slate-500 peer-placeholder-shown:top-2 peer-focus:-top-1 peer-focus:text-xs transition-all"
            >Département<span class="text-[#E5302D]">*</span></label
          >
        </div>
        <div
          class="msg error text-xs ml-3 text-[#E5302D]"
          *ngIf="
            f['company'].invalid && (f['company'].dirty || f['company'].touched)
          "
        >
          <span *ngIf="f['company'].errors?.['required']"
            >département obligatoire</span
          >
        </div>
      </div>
      <div class="flex flex-col w-1/2">
        <div class="flex flex-col ml-3 relative">
          <select
            id="type"
            class="peer w-full bg-transparent border-b border-black border-opacity-40 focus:outline-none text-black placeholder-transparent"
            autocomplete="off"
            formControlName="type"
            required
          >
            <option id="o1">PFE</option>
            <option id="o2">PFA</option>
            <option id="o3">Stage facultatif</option>
          </select>
          <label
            for="type"
            class="absolute left-0 -mt-3.5 text-slate-500 peer-placeholder-shown:top-3 peer-focus:-top-1 peer-focus:text-xs transition-all"
            >Type <span class="text-[#E5302D]">*</span></label
          >
        </div>
        <div
          class="msg error text-xs ml-3 text-[#E5302D]"
          *ngIf="f['type'].invalid && (f['type'].dirty || f['type'].touched)"
        >
          <span *ngIf="f['type'].errors?.['required']">type obligatoire</span>
        </div>
      </div>
    </div>

    <div class="flex flex-col mt-10 ml-3 relative">
      <input
        type="text"
        id="address"
        placeholder="address"
        class="peer w-full bg-transparent border-b border-black border-opacity-40 focus:outline-none text-black placeholder-transparent"
        autocomplete="off"
        formControlName="address"
        required
      />
      <label
        for="address"
        class="absolute left-0 -mt-3.5 text-slate-500 peer-placeholder-shown:top-2 peer-focus:-top-1 peer-focus:text-xs transition-all"
        >Addresse <span class="text-[#E5302D]">*</span></label
      >
    </div>
    <div
      class="msg error text-xs ml-3 text-[#E5302D]"
      *ngIf="
        f['address'].invalid && (f['address'].dirty || f['address'].touched)
      "
    >
      <span *ngIf="f['address'].errors?.['required']"
        >addresse obligatoire</span
      >
    </div>
    <div class="flex flex-col mt-10 ml-3 relative">
      <input
        type="number"
        id="duration"
        placeholder="duration"
        class="peer w-full bg-transparent border-b border-black border-opacity-40 focus:outline-none text-black placeholder-transparent"
        autocomplete="off"
        formControlName="duration"
        required
      />
      <label
        for="duration"
        class="absolute left-0 -mt-3.5 text-slate-500 peer-placeholder-shown:top-2 peer-focus:-top-1 peer-focus:text-xs transition-all"
        >Durée <span class="text-[#E5302D]">*</span></label
      >
    </div>
    <div
      class="msg error text-xs ml-3 text-[#E5302D]"
      *ngIf="
        f['duration'].invalid && (f['duration'].dirty || f['duration'].touched)
      "
    >
      <span *ngIf="f['duration'].errors?.['required']">durée obligatoire</span>
    </div>
    <div class="flex flex-col mt-10 ml-3 relative">
      <select
        id="supervisor"
        class="peer w-full bg-transparent border-b border-black border-opacity-40 focus:outline-none text-black placeholder-transparent"
        autocomplete="off"
        formControlName="supervisor"
        *ngIf="isRH; else supervisorSelect"
        required
      >
        <option
          *ngFor="let supervisor of supervisors"
          [value]="supervisor.supervisor.id"
        >
          Mme/ M.{{ supervisor.supervisor.firstname }}
          {{ supervisor.supervisor.lastname }}
        </option>
      </select>
      <ng-template #supervisorSelect>
        <select
          class="peer w-full bg-transparent border-b border-black border-opacity-40 focus:outline-none text-black placeholder-transparent"
          formControlName="supervisor"
        >
          <option [value]="user.id">
            Mme/ M.{{ user.firstname }} {{ user.lastname }}
          </option>
        </select>
      </ng-template>
      <label
        for="supervisor"
        class="absolute left-0 -mt-3.5 text-slate-500 peer-placeholder-shown:top-2 peer-focus:-top-1 peer-focus:text-xs transition-all"
        >Encadrant <span class="text-[#E5302D]">*</span></label
      >
    </div>
    <div
      class="msg error text-xs ml-3 text-[#E5302D]"
      *ngIf="
        f['supervisor'].invalid &&
        (f['supervisor'].dirty || f['supervisor'].touched)
      "
    >
      <span *ngIf="f['supervisor'].errors?.['required']"
        >encadrant obligatoire</span
      >
    </div>
    <div class="flex flex-col mt-10 ml-3 relative">
      <textarea
        id="required_work"
        class="w-full h-24 p-2 bg-transparent border border-black border-opacity-40 focus:outline-none text-black placeholder-transparent"
        autocomplete="off"
        formControlName="required_work"
        placeholder="required_work"
        required
      ></textarea>
      <label for="required_work" class="absolute left-0 -mt-6 text-slate-500"
        >Travail demandé<span class="text-[#E5302D] ml-1">*</span></label
      >
    </div>
    <div
      class="msg error text-xs ml-3 text-[#E5302D]"
      *ngIf="
        f['required_work'].invalid &&
        (f['required_work'].dirty || f['required_work'].touched)
      "
    >
      <span *ngIf="f['required_work'].errors?.['required']"
        >travail demandé obligatoire</span
      >
    </div>
    <div class="flex flex-col mt-10 ml-3 relative">
      <textarea
        id="technical_environement"
        class="w-full h-24 p-2 bg-transparent border border-black border-opacity-40 focus:outline-none text-black placeholder-transparent"
        autocomplete="off"
        formControlName="technical_environement"
        placeholder="technical_environement"
        required
      ></textarea>
      <label
        for="technical_environement"
        class="absolute left-0 -mt-6 text-slate-500"
        >Environnement technique / Outils utilisés<span
          class="text-[#E5302D] ml-1"
          >*</span
        ></label
      >
    </div>
    <div
      class="msg error text-xs ml-3 text-[#E5302D]"
      *ngIf="
        f['technical_environement'].invalid &&
        (f['technical_environement'].dirty ||
          f['technical_environement'].touched)
      "
    >
      <span *ngIf="f['technical_environement'].errors?.['required']"
        >Environnement technique / Outils utilisés obligatoire</span
      >
    </div>
    <div class="flex flex-col mt-10 ml-3 relative">
      <textarea
        id="required_profile"
        class="w-full h-24 p-2 bg-transparent border border-black border-opacity-40 focus:outline-none text-black placeholder-transparent"
        autocomplete="off"
        formControlName="required_profile"
        placeholder="required_profile"
        required
      ></textarea>
      <label for="required_profile" class="absolute left-0 -mt-6 text-slate-500"
        >Profil recherché<span class="text-[#E5302D] ml-1">*</span></label
      >
    </div>
    <div
      class="msg error text-xs ml-3 text-[#E5302D]"
      *ngIf="
        f['required_profile'].invalid &&
        (f['required_profile'].dirty || f['required_profile'].touched)
      "
    >
      <span *ngIf="f['required_profile'].errors?.['required']"
        >Profil recherché obligatoire</span
      >
    </div>
    <div class="flex">
      <div class="flex flex-col w-1/3 mt-10 ml-3 relative">
        <div class="flex">
          <input
            type="number"
            id="interns_number"
            placeholder="interns_number"
            class="peer w-full bg-transparent border-b border-black border-opacity-40 focus:outline-none text-black placeholder-transparent"
            autocomplete="off"
            formControlName="interns_number"
            required
          />
          <label
            for="interns_number"
            class="absolute left-0 -mt-3.5 text-slate-500 peer-placeholder-shown:top-2 peer-focus:-top-1 peer-focus:text-xs transition-all"
            >Nombre de stagiaire <span class="text-[#E5302D]">*</span></label
          >
        </div>
        <div
          class="msg error text-xs text-[#E5302D]"
          *ngIf="
            f['interns_number'].invalid &&
            (f['interns_number'].dirty || f['interns_number'].touched)
          "
        >
          <span *ngIf="f['interns_number'].errors?.['required']"
            >nombre de stagiaire obligatoire</span
          >
        </div>
      </div>
      <div class="ml-40 mt-10 flex items-center">
        <input
          type="checkbox"
          id="renumerete"
          name="renumerete"
          value="working_from_home"
          class="mr-2"
        />
        <label for="renumerete" class="text-[#5F6368]">Rénuméré</label>
      </div>
      <div class="ml-20 mt-10 flex items-center">
        <input
          type="checkbox"
          id="working_from_home"
          name="working_from_home"
          value="working_from_home"
          class="mr-2"
        />
        <label for="working_from_home" class="text-[#5F6368]"
          >Télétravail</label
        >
      </div>
    </div>
    <div class="flex justify-around items-center my-20">
      <button
        type="submit"
        id="btnSubmit"
        class="w-40 h-10 text-white bg-[#E73130] rounded-full"
        (click)="openSnackBar('Offre ajouté avec succés', 'fermer')"
      >
        Ajouter
      </button>
    </div>
  </form>
</section>
